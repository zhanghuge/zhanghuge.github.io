"use strict";if(-1!==location.href.indexOf("link")){var imgObj=document.getElementsByTagName("img");for(i=0;i<imgObj.length;i++)imgObj[i].onerror=function(){this.src="https://cdn.jsdelivr.net/gh/tzy13755126023/BLOG_SOURCE/theme_f/friend_404.gif"}}$(function(){var m;(m=jQuery).fn.circleMagic=function(e){var o,a,t,n,i=!0,r=[],d=m.extend({color:"rgba(255,0,0,.5)",radius:10,density:.3,clearOffset:.2},e),s=this[0];function c(){if(i)for(var e in n.clearRect(0,0,o,a),r)r[e].draw();requestAnimationFrame(c)}function l(){var e=this;function t(){e.pos.x=Math.random()*o,e.pos.y=a+100*Math.random(),e.alpha=.1+Math.random()*d.clearOffset,e.scale=.1+.3*Math.random(),e.speed=Math.random(),"random"===d.color?e.color="rgba("+Math.floor(255*Math.random())+", "+Math.floor(0*Math.random())+", "+Math.floor(0*Math.random())+", "+Math.random().toPrecision(2)+")":e.color=d.color}e.pos={},t(),this.draw=function(){e.alpha<=0&&t(),e.pos.y-=e.speed,e.alpha-=5e-4,n.beginPath(),n.arc(e.pos.x,e.pos.y,e.scale*d.radius,0,2*Math.PI,!1),n.fillStyle=e.color,n.fill(),n.closePath()}}o=s.offsetWidth,a=s.offsetHeight,(e=document.createElement("canvas")).id="canvas",e.style.top=0,e.style.zIndex=0,e.style.position="absolute",s.appendChild(e),e.parentElement.style.overflow="hidden",(t=document.getElementById("canvas")).width=o,t.height=a,n=t.getContext("2d");for(var h=0;h<o*d.density;h++){var f=new l;r.push(f)}c(),window.addEventListener("scroll",function(){i=!(document.body.scrollTop>a)},!1),window.addEventListener("resize",function(){o=s.clientWidth,a=s.clientHeight,s.height=a+"px",t.width=o,t.height=a},!1)},$("#page-header").circleMagic({radius:10,density:.2,color:"rgba(255,255,255,.4)",clearOffset:.99})});